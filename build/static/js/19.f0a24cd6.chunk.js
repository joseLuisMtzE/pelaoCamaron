(this.webpackJsonpposrestfront=this.webpackJsonpposrestfront||[]).push([[19],{425:function(e,a,t){"use strict";a.__esModule=!0,a.default=function(e,a){var t={};for(var n in e)a.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}},444:function(e,a,t){"use strict";var n=t(6),o=t.n(n),r=t(13),c=t(26),l=t(0),s=t.n(l),i=t(460),u=t(516),m=t(528),p=t(202),f=t(16),d=function(e){var a=e.loading,t=e.total,n=e.cambio,o=e.onFinishForm,r=u.a.Option,d=m.a.useForm(),g=Object(c.a)(d,1)[0];Object(l.useEffect)((function(){g.setFieldsValue({porcentajeDescuento:"0"})}));return s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{name:"paymentInfo",onFinish:function(e){console.log("Success:",e),o(e)},onFinishFailed:function(e){console.log("Failed:",e)},form:g},s.a.createElement(m.a.Item,{label:"Forma de pago",name:"tipoPago",rules:[{required:!0,message:"Elije una forma de pago!"}]},s.a.createElement(u.a,{placeholder:"Selecciona un m\xe9todo de pago"},s.a.createElement(r,{value:"Efectivo"},"Efectivo"),s.a.createElement(r,{value:"Tarjeta"},"Tarjeta"))),s.a.createElement(m.a.Item,{label:"Pag\xf3 con:",name:"pagoCon",rules:[{required:!0,message:"Ingresa la cantidad con la que te pag\xf3 el cliente!"}]},s.a.createElement(p.a,{placeholder:"Cantidad con la que pag\xf3 el cliente",prefix:"$",suffix:"MXN"})),s.a.createElement(m.a.Item,{label:"",name:"porcentajeDescuento"}),s.a.createElement("h3",null,"Total: ",i(t).format("$0,0.00")),s.a.createElement("h3",null,"Cambio: ",i(n).format("$0,0.00")),s.a.createElement(f.a,{type:"primary",htmlType:"submit",loading:a},"Pagar")))},g=t(410),b=t(92),E=t(547),j=t(10);a.a=function(e){var a=e.id,t=e.ordenTotal,n=Object(l.useState)(!1),i=Object(c.a)(n,2),u=i[0],m=i[1],p=Object(l.useState)(!1),v=Object(c.a)(p,2),O=v[0],h=v[1],F=Object(l.useState)(0),C=Object(c.a)(F,2),k=C[0],P=C[1],y=t,D=function(){var e=Object(r.a)(o.a.mark((function e(a,t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Object(j.c)("POST","ordenes/".concat(a,"/ticket"),t);case 4:n=e.sent,r=n.data.data,console.log("Response: ",n,"Data: ",r),h(!1),Object(b.c)("Pago realizado","Generando ticket..."),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),h(!1),Object(b.b)("Oops...","Algo sali\xf3 mal al generar el ticket verifica que las ordenes est\xe9n cerradas"),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a,t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"center"},s.a.createElement(f.a,{shape:"circle",className:"close-btn",onClick:function(){m(!0)}},s.a.createElement(E.a,{className:"normal-size"})),s.a.createElement("p",null,"Cerrar orden ")),s.a.createElement(g.a,{title:"CERRAR ORDEN",visible:u,onCancel:function(){m(!1)},footer:""},s.a.createElement(d,{total:y,cambio:k,loading:O,onFinishForm:function(e){console.log("Form submitted, values recieved are: ",e),D(a,{tipoPago:e.tipoPago,porcentajeDescuento:parseInt(e.porcentajeDescuento),pagoCon:parseFloat(e.pagoCon),subTotal:y}),P(parseFloat(e.pagoCon)-y*(1-parseInt(e.porcentajeDescuento)/100))}})))}},522:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(444);a.default=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(r.a,null))}}}]);
//# sourceMappingURL=19.f0a24cd6.chunk.js.map