{"version":3,"sources":["shared/Alert.js","../node_modules/@ant-design/icons-svg/es/asn/ArrowLeftOutlined.js","../node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js","components/HomeDelivery/EditHomeDelivery/EditFormHomeDelivery.jsx","components/HomeDelivery/EditHomeDelivery/EditHomeDelivery.jsx","pages/EditHomeDelivery.jsx"],"names":["alertError","message","Swal","fire","icon","title","text","alertSuccess","ArrowLeftOutlined","props","ref","React","AntdIcon","Object","assign","ArrowLeftOutlinedSvg","displayName","layout","labelCol","span","wrapperCol","tailLayout","offset","EditFormHomeDelivery","idMesa","localStorage","getItem","Form","useForm","form","console","log","editarDomicilio","estado","values","idOrder","a","makeRequest","domicilio","calle","colonia","nombreCliente","numeroExterior","numeroInterior","pagaraCon","referencia","telefono","response","status","setTimeout","window","location","href","data","_id","useEffect","getDataHomeDelivery","then","setFieldsValue","id","JSON","parse","tipoOrden","className","name","initialValues","remember","onFinish","onFinishFailed","errorInfo","Item","label","rules","required","type","htmlType","Title","Typography","HomeDelivery","history","useHistory","style","backgroundColor","height","size","onClick","goBack","level","color","padding","HomeDeliveryPage","EditHomeDelivery"],"mappings":"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","file":"static/js/21.f625a1e8.chunk.js","sourcesContent":["import Swal from 'sweetalert2';\r\n\r\n    export function alertError(message){\r\n        Swal.fire({\r\n            icon: 'error',\r\n            title:'Error' ,\r\n            text: message\r\n           // footer: '<a href>Why do I have this issue?</a>'\r\n        })\r\n    }\r\n\r\n    export function alertSuccess(message){\r\n        Swal.fire({\r\n            icon: 'success',\r\n            title: 'Proceso exitoso!',\r\n            text: message\r\n           // footer: '<a href>Why do I have this issue?</a>'\r\n        })\r\n    }\r\n\r\n \r\n","// This icon file is generated automatically.\nvar ArrowLeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"arrow-left\", \"theme\": \"outlined\" };\nexport default ArrowLeftOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ArrowLeftOutlinedSvg from \"@ant-design/icons-svg/es/asn/ArrowLeftOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar ArrowLeftOutlined = function ArrowLeftOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: ArrowLeftOutlinedSvg\n  }));\n};\n\nArrowLeftOutlined.displayName = 'ArrowLeftOutlined';\nexport default React.forwardRef(ArrowLeftOutlined);","import { Form, Input, Button, InputNumber } from 'antd';\r\nimport React,{useEffect} from 'react';\r\n// import { Link } from 'react-router-dom';\r\n//import Domicilio from '../ticket/Domicilio';\r\nimport { makeRequest } from '../../../shared/ApiWrapper';\r\nimport { alertError,alertSuccess } from '../../../shared/Alert';\r\nimport { CodepenOutlined } from '@ant-design/icons';\r\n\r\n\r\nconst layout = {\r\n  labelCol: {\r\n    span: 8\r\n  },\r\n  wrapperCol: {\r\n    span: 16\r\n  }\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: {\r\n    offset: 8,\r\n    span: 16\r\n  }\r\n};\r\n\r\nconst LSKEY = 'address-home-delivery';\r\n\r\nconst EditFormHomeDelivery = ({ props }) => {\r\n  const idMesa=localStorage.getItem('mesaID')\r\n  const [form] = Form.useForm();\r\n  console.log(props)\r\n  const editarDomicilio = async (estado,values,idOrder) => {\r\n    //console.log(estado,values)\r\n    try {\r\n      let response = await makeRequest('PUT', `ordenes/${idOrder}`, {\r\n        estado: estado,\r\n        domicilio: {\r\n          calle: values.calle,\r\n          colonia: values.colonia,\r\n          nombreCliente: values.nombreCliente,\r\n          numeroExterior: values.numeroExterior,\r\n          numeroInterior: values.numeroInterior,\r\n          pagaraCon: values.pagaraCon,\r\n          referencia: values.referencia,\r\n          telefono: values.telefono\r\n        }\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        console.log('Domicilio actualizado correctamente');\r\n        \r\n        alertSuccess(`Domicilio actualizado correctamente`)\r\n        setTimeout(() => {\r\n          window.location.href = 'http://localhost:3000/ver-orden/' + response.data.data._id\r\n        }, 3000);\r\n        \r\n        \r\n      } else {\r\n        // window.location.href = '/mesas';\r\n        alertError('Hubo un error al actualizar el domicilio');\r\n      }\r\n      let data = response.data.data;\r\n      return data;\r\n    } catch (err) {\r\n      console.log(err);\r\n      // window.location.href = '/mesas';\r\n      alertError('Hubo un error al actualizar el domicilio');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    //llenar inputs con informacion original\r\n    init()\r\n    // console.log(categoria, area);\r\n  }, []);\r\n  \r\n  const getDataHomeDelivery = async (id) => {\r\n    try {\r\n      let response = await makeRequest('GET', 'mesas/'+id+'/ordenes');\r\n      let data = response.data.data;\r\n      console.log(data)\r\n      console.log(data[0].id)\r\n      //console.log(data)\r\n      return data;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n\r\n  function init(){\r\n    getDataHomeDelivery(idMesa).then((data)=>{\r\n      console.log(data[0].estado) //-------  OBTENER ESTADO DE MESA\r\n      const values=data[0].domicilio\r\n      if(values){\r\n        console.log('GET CORRECTO, ESCRIBIENDO VALUES EN INPUTS...');\r\n\r\n      }\r\n    \r\n      form.setFieldsValue({\r\n        nombreCliente: values.nombreCliente,\r\n        telefono: values.telefono,\r\n        calle: values.calle,\r\n        numeroExterior: values.numeroExterior,\r\n        numeroInterior: values.numeroInterior,\r\n        colonia: values.colonia,\r\n        referencia: values.referencia,\r\n        pagaraCon: values.pagaraCon\r\n      });\r\n      \r\n    })\r\n    \r\n  }\r\n  \r\n\r\n\r\n\r\n  const domicilio = JSON.parse(localStorage.getItem('domicilio'));\r\n  console.log(domicilio.tipoOrden);\r\n\r\n  const onFinish = values => {\r\n    getDataHomeDelivery(idMesa).then((data)=>{\r\n      var estado=data[0].estado; //-------  OBTENER ESTADO DE MESA\r\n      var idOrder= data[0].id\r\n      editarDomicilio(estado,values,idOrder);\r\n     \r\n    })\r\n    \r\n    console.log('Success:', values);\r\n  };\r\n\r\n  const onFinishFailed = errorInfo => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n  return (\r\n    <>\r\n      <Form\r\n        className=\"form-home-delivery\"\r\n        {...layout}\r\n        name=\"basic\"\r\n        initialValues={{\r\n          remember: true\r\n        }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n        form={form}\r\n      >\r\n        <Form.Item\r\n          label=\"Nombre\"\r\n          name=\"nombreCliente\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Introduzca nombre'\r\n            }\r\n          ]}\r\n        >\r\n          <Input className=\"inputs\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Telefono\"\r\n          name=\"telefono\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Introduzca el telefono'\r\n            }\r\n          ]}\r\n        >\r\n          <Input className=\"inputs\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Calle\"\r\n          name=\"calle\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Introduzca la calle'\r\n            }\r\n          ]}\r\n        >\r\n          <Input className=\"inputs\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Número Exterior\"\r\n          name=\"numeroExterior\"\r\n          rules={[\r\n            {\r\n              required: true\r\n            }\r\n          ]}\r\n        >\r\n          <InputNumber className=\"inputs\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Número Interior\"\r\n          name=\"numeroInterior\"\r\n          rules={[\r\n            {\r\n              required: false,\r\n              message: 'Introduzca el numero interior'\r\n            }\r\n          ]}\r\n        >\r\n          <InputNumber className=\"inputs\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Colonia\"\r\n          name=\"colonia\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Introduzca la colonia'\r\n            }\r\n          ]}\r\n        >\r\n          <Input className=\"inputs\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Referencias\"\r\n          name=\"referencia\"\r\n          rules={[\r\n            {\r\n              required: false\r\n            }\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item \r\n        label=\"Pagara con\" \r\n        name=\"pagaraCon\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: 'Introduzca la colonia'\r\n          }\r\n        ]}\r\n        >\r\n          <InputNumber className=\"inputs\" />\r\n        </Form.Item>\r\n        {/*<Form.Item\r\n          label=\"Cambio\"\r\n          name=\"cambio\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Introduzca el cambio',\r\n            },\r\n          ]}\r\n        >\r\n          <InputNumber className=\"inputs\" />\r\n        </Form.Item>*/}\r\n\r\n        <Form.Item {...tailLayout}>\r\n          <Button className=\"buttons\" type=\"primary\" htmlType=\"submit\">\r\n            Confirmar\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n      <div className=\"footer-home-delivery\"></div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditFormHomeDelivery;\r\n","import React from 'react';\r\nimport { Button } from 'antd';\r\nimport { ArrowLeftOutlined } from '@ant-design/icons';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport EditFormHomeDelivery from './EditFormHomeDelivery';\r\nimport { Typography } from 'antd';\r\nconst { Title } = Typography;\r\n\r\nfunction HomeDelivery({props}) {\r\n console.log(props)\r\n  let history = useHistory();\r\n\r\n  function handleClick() {\r\n    history.goBack();\r\n  }\r\n  return (\r\n    <>\r\n      <div style={{ backgroundColor: '#EEEEEE', height:\"100%\" }}>\r\n        <div className=\"header-home-delivery\">\r\n          <div className=\"header-img\"></div>\r\n          <div>\r\n            <Button className=\"margin-10 buttons\" type=\"primary\" size={'small'}  onClick={handleClick}>\r\n              <ArrowLeftOutlined />\r\n            </Button>\r\n          </div>\r\n          <div className=\"centerContent\">\r\n            <h1  className=\"white-text-color\" >\r\n              <Title level={3} style={{color: '#FFFFFF'}}>Editar domicilio</Title>\r\n            </h1>\r\n          </div>\r\n        </div>\r\n        <div className=\"\" >\r\n        <div className=\"centerContent\" style={{ padding: '20px' }} />\r\n          <EditFormHomeDelivery props={props}/>\r\n          \r\n        </div>\r\n\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HomeDelivery;\r\n","import React from 'react'\r\nimport EditHomeDelivery from '../components/HomeDelivery/EditHomeDelivery/EditHomeDelivery'\r\n\r\n\r\n//\r\n\r\nfunction HomeDeliveryPage(props) {\r\n    return (\r\n        <>\r\n        <EditHomeDelivery props={props}/>\r\n  \r\n        </>\r\n    )\r\n}\r\n\r\nexport default HomeDeliveryPage\r\n"],"sourceRoot":""}