{"version":3,"sources":["assets/logo.png","components/ticket/InfoVariables.jsx","components/ticket/ComandasTicket.jsx","components/ticket/TablaProductos.jsx","components/ticket/Domicilio.jsx","components/ticket/ConvertidorNumLetras.jsx","../node_modules/@ant-design/icons-svg/es/asn/PrinterFilled.js","../node_modules/@ant-design/icons/es/icons/PrinterFilled.js","components/ticket/PrintTicket.jsx","pages/Ticket.jsx"],"names":["module","exports","infoVariables","props","info","fechaActual","Date","className","src","logo","alt","width","folio","mesa","noMesa","numPersonas","fecha","getDate","getMonth","getFullYear","toLocaleString","hour","minute","hour12","ComandasTicket","comanda","estado","key","_id","cantidad","platillo","nombre","precioConIva","toFixed","TablaProductos","comandas","enProceso","TOTAL","pago","porcentajeDescuento","precioTotal","id","map","colSpan","length","cantidadDescuento","tipoPago","pagoCon","cambio","subTotal","Domicilio","domicilio","nombreCliente","calle","numeroExterior","numeroInterior","colonia","referencia","pagaraCon","ConvertidorNumLetras","decena","unidad","centenas","decenas","cientos","resto","letras","divisor","strMiles","strCentenas","strMillones","sindecimales","decimales","descuentoPorcentaje","Unidades","num","Decenas","Math","floor","DecenasY","strSin","numUnidades","Centenas","Seccion","strSingular","strPlural","Millones","Miles","round","trunc","NumeroALetras","centavos","data","numero","enteros","letrasCentavos","undefined","letrasMonedaPlural","letrasMonedaSingular","PrinterFilled","ref","React","AntdIcon","Object","assign","icon","PrinterFilledSvg","displayName","PrintTicket","getRol","style","display","height","boxShadow","type","htmlType","onClick","window","print","Ticket","useState","orden","setOrden","match","params","recuperarOrdenes","a","makeRequest","response","console","log","inicializarState","useEffect","InfoVariables"],"mappings":"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","file":"static/js/27.322ab6b7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.849cda1b.png\";","import React from 'react';\r\nimport logo from '../../assets/logo.png';\r\n\r\nconst infoVariables = (props) => {\r\n  const { info } = props;\r\n  let fechaActual = new Date();\r\n  /*console.log(\r\n    `${fecha.getDate()}/${fecha.getMonth()}/${fecha.getFullYear()} ${fecha.toLocaleString(\r\n      'en-US',\r\n      { hour: 'numeric', minute: 'numeric', hour12: true }\r\n    )}`\r\n  );*/\r\n\r\n  return (\r\n    <div className=\"Container-ticket\">\r\n      <div className=\"LogoCamaron-posicion\">\r\n        <img src={logo} alt=\"Logo Camaron Pelao\" width={250}></img>\r\n      </div>\r\n      <h4>MARISCOS EL PELAO CAMARON</h4>\r\n      <span className=\"Space-span\">MARIELA SALAS TORRES</span>\r\n      <br></br>\r\n      <span className=\"Space-span\">RÉGIMEN: INCORPORACIÓN FISCAL</span>\r\n      <span className=\"Space-span\">MÁTRIZ:</span>\r\n      <span className=\"Space-span\">RFC: SATF871021H94</span>\r\n      <span className=\"Space-span\">AV. V CARRANZA 1649 NULL COLONIA</span>\r\n      <span className=\"Space-span\">RESIDENCIAL ESMERALDA CP 28017</span>\r\n      <span className=\"Space-span\">COLIMA COLIMA</span>\r\n      <span className=\"Space-span\">TELÉFONO:312 323 66 76</span>\r\n      <br></br>\r\n      <span className=\"Space-span\">SUCURSAL:</span>\r\n      <span className=\"Space-span\">AV. V CARRANZA 1649 NULL COLONIA</span>\r\n      <span className=\"Space-span\">RESIDENCIAL ESMERALDA CP 28017</span>\r\n      <span className=\"Space-span\">COLIMA COLIMA</span>\r\n      <span className=\"Space-span\">TELÉFONO:312 323 66 76</span>\r\n      <br></br>\r\n      <strong className=\"Space-span\">FOLIO TICKET #{info.folio}</strong>\r\n      <span className=\"Space-span\">MESA: {info.mesa && info.mesa.noMesa}</span>\r\n      <span className=\"Space-span\">PERSONAS: {info.numPersonas} </span>\r\n      <span className=\"Space-span\">FECHA VENTA: {info.fecha}</span>\r\n      <span className=\"Space-span\">\r\n        FECHA REIMPRESIÓN:{' '}\r\n        {`${fechaActual.getDate()}/${\r\n          fechaActual.getMonth() + 1\r\n        }/${fechaActual.getFullYear()} ${fechaActual.toLocaleString('en-US', {\r\n          hour: 'numeric',\r\n          minute: 'numeric',\r\n          hour12: true,\r\n        })}`}\r\n      </span>\r\n      <br></br>\r\n    </div>\r\n  );\r\n};\r\nexport default infoVariables;\r\n","import React from 'react';\r\n\r\nconst ComandasTicket = ({ comanda }) => {\r\n  return comanda.estado === 'Cerrada' ? (\r\n    <tr key={comanda._id}>\r\n      <td className=\"Tabla-tds-comandas\">{comanda.cantidad}</td>\r\n\r\n      <td className=\"Tabla-tds-comandas\">{comanda.platillo.nombre}</td>\r\n      <td className=\"Tabla-tds-comandas\">\r\n        ${comanda.platillo.precioConIva.toFixed(2)}\r\n      </td>\r\n      <td className=\"Tabla-tds-comandas\">\r\n        ${(comanda.cantidad * comanda.platillo.precioConIva).toFixed(2)}\r\n      </td>\r\n    </tr>\r\n  ) : null;\r\n};\r\nexport default ComandasTicket;\r\n","import React from 'react';\r\nimport ComandasTicket from './ComandasTicket';\r\n\r\nconst TablaProductos = (props) => {\r\n  //Variables\r\n  const { comandas } = props;\r\n  let enProceso = false,\r\n    subtotal = 0,\r\n    iva = 16,\r\n    impuestos = 0,\r\n    precioTotal = 0,\r\n    descuentoPorcentaje =\r\n      comandas.comandas && comandas.pago.porcentajeDescuento,\r\n    descuentoCantidad = 0,\r\n    TOTAL = comandas.pago && comandas.pago.precioTotal;\r\n  //TOTAL = TOTAL.toFixed(2);\r\n\r\n  //Para el renderizado condicional\r\n  if (comandas.estado === 'En proceso') {\r\n    enProceso = true;\r\n  } else {\r\n    enProceso = false;\r\n  }\r\n\r\n  //Para obtejer subtotal, impuestos y precioTotal\r\n  /* comandas.comandas &&\r\n    props.comandas.comandas.map((comanda) => {\r\n      subtotal += comanda.cantidad * comanda.platillo.precioSinIva;\r\n      impuestos +=\r\n        ((comanda.platillo.precioSinIva * iva) / 100) * comanda.cantidad;\r\n      precioTotal += comanda.cantidad * comanda.platillo.precioConIva;\r\n    });\r\n  //Calcular descuento\r\n  descuentoCantidad = (precioTotal * descuentoPorcentaje) / 100;\r\n  precioTotal = precioTotal - descuentoCantidad;\r\n  precioTotal = precioTotal.toFixed(2);*/\r\n\r\n  return (\r\n    <div className=\"Container-ticket\">\r\n      <hr></hr>\r\n      <table className=\"Table-ticket\" id=\"tableProductos\">\r\n        <thead>\r\n          <tr>\r\n            <th>CANTIDAD</th>\r\n            <th>PLATILLO</th>\r\n            <th>PRECIO</th>\r\n            <th>IMPORTE</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          {comandas.comandas &&\r\n            props.comandas.comandas.map((comanda) => {\r\n              return <ComandasTicket comanda={comanda} />;\r\n            })}\r\n\r\n          <tr className=\"datos-pago\">\r\n            <td colSpan={3}>% DE DESCUENTO</td>\r\n            <td>{comandas.pago && comandas.pago.porcentajeDescuento}%</td>\r\n          </tr>\r\n          {!enProceso && (\r\n            <>\r\n              {comandas.length !== 0 ? (\r\n                <tr>\r\n                  <td colSpan={3}>DESCUENTO</td>\r\n                  <td>\r\n                    $\r\n                    {(comandas.pago && comandas.pago.cantidadDescuento).toFixed(\r\n                      2\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ) : null}\r\n              <tr>\r\n                <td colSpan={3}>TIPO DE PAGO</td>\r\n                <td>{comandas.pago && comandas.pago.tipoPago}</td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan={3}>PAGO CON</td>\r\n                <td>${comandas.pago && comandas.pago.pagoCon}</td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan={3}>CAMBIO</td>\r\n                <td>${comandas.pago && comandas.pago.cambio}</td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan={3}>IMPUESTOS</td>\r\n                <td>${impuestos.toFixed(2)}</td>\r\n              </tr>\r\n            </>\r\n          )}\r\n          <tr>\r\n            <td colSpan={3}>SUB-TOTAL</td>\r\n            <td>${comandas.pago && comandas.pago.subTotal}</td>\r\n          </tr>\r\n\r\n          {comandas.length !== 0 ? (\r\n            <tr>\r\n              <td colSpan={3}>\r\n                <h2>TOTAL: </h2>\r\n              </td>\r\n              <td>\r\n                <h2>${TOTAL.toFixed(2)}</h2>\r\n              </td>\r\n            </tr>\r\n          ) : null}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\nexport default TablaProductos;\r\n","import React from 'react';\r\n\r\nconst Domicilio = (props) => {\r\n  let domicilio = false;\r\n\r\n  if (props.domicilio) {\r\n    domicilio = true;\r\n  } else {\r\n    return '';\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {(domicilio && (\r\n        <div className=\"Container-ticket\">\r\n          <strong className=\"Space-span\"> DOMICILIO </strong>\r\n          <span className=\"Space-span\">\r\n            {' '}\r\n            CLIENTE: {props.domicilio && props.domicilio.nombreCliente}\r\n          </span>\r\n          <span className=\"Space-span\"> TELÉFONO: {}</span>\r\n          <span className=\"Space-span\">\r\n            {' '}\r\n            CALLE: {props.domicilio && props.domicilio.calle}\r\n          </span>\r\n          <span className=\"Space-span\">\r\n            {' '}\r\n            NUMERO EXTERIOR: {props.domicilio && props.domicilio.numeroExterior}\r\n          </span>\r\n          <span className=\"Space-span\">\r\n            {' '}\r\n            NUMERO INTERIOR: {props.domicilio && props.domicilio.numeroInterior}\r\n          </span>\r\n          <span className=\"Space-span\">\r\n            {' '}\r\n            COLONIA: {props.domicilio && props.domicilio.colonia}\r\n          </span>\r\n          <span className=\"Space-span\">\r\n            {' '}\r\n            REFERENCIAS: {props.domicilio && props.domicilio.referencia}\r\n          </span>\r\n          <span className=\"Space-span\">\r\n            {' '}\r\n            PAGARÁ CON: ${props.domicilio && props.domicilio.pagaraCon}\r\n          </span>\r\n          <span className=\"Space-span\">\r\n            {' '}\r\n            CAMBIO: {props.domicilio && props.domicilio.cambio}\r\n          </span>\r\n\r\n          <br></br>\r\n        </div>\r\n      )) ||\r\n        ''}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Domicilio;\r\n","import React from 'react';\r\n\r\nconst ConvertidorNumLetras = props => {\r\n  const { comandas } = props;\r\n  var decena,\r\n    unidad,\r\n    centenas,\r\n    decenas,\r\n    cientos,\r\n    resto,\r\n    letras,\r\n    divisor,\r\n    strMiles,\r\n    strCentenas,\r\n    strMillones, //variables conversion\r\n    decimales = 0,\r\n    sindecimales = 0,\r\n    precioTotal = 0,\r\n    descuentoPorcentaje =\r\n      comandas.comandas && comandas.pago.porcentajeDescuento,\r\n    descuentoCantidad = 0,\r\n    TOTAL = comandas.pago && comandas.pago.precioTotal;\r\n\r\n  //Para obtejer subtotal, impuestos y precioTotal\r\n  comandas.comandas &&\r\n    props.comandas.comandas.map(comanda => {\r\n      precioTotal += comanda.cantidad * comanda.platillo.precioConIva;\r\n      return '';\r\n    });\r\n\r\n  //Calcular descuento\r\n  descuentoCantidad = (precioTotal * descuentoPorcentaje) / 100;\r\n  precioTotal = precioTotal - descuentoCantidad;\r\n  //Obtener decimales\r\n  decimales = TOTAL - Math.floor(TOTAL);\r\n  TOTAL = TOTAL - decimales;\r\n  //Conversión del numero decimal a numero entero\r\n  decimales *= 100;\r\n  decimales = Math.round(decimales);\r\n  sindecimales = Math.trunc(decimales);\r\n\r\n  //TOTAL = TOTAL.toFixed(2);\r\n\r\n  function Unidades(num) {\r\n    switch (num) {\r\n      case 1:\r\n        return 'UN';\r\n      case 2:\r\n        return 'DOS';\r\n      case 3:\r\n        return 'TRES';\r\n      case 4:\r\n        return 'CUATRO';\r\n      case 5:\r\n        return 'CINCO';\r\n      case 6:\r\n        return 'SEIS';\r\n      case 7:\r\n        return 'SIETE';\r\n      case 8:\r\n        return 'OCHO';\r\n      case 9:\r\n        return 'NUEVE';\r\n      default:\r\n        return '';\r\n    }\r\n  }\r\n\r\n  function Decenas(num) {\r\n    decena = Math.floor(num / 10);\r\n    unidad = num - decena * 10;\r\n\r\n    switch (decena) {\r\n      case 1:\r\n        switch (unidad) {\r\n          case 0:\r\n            return 'DIEZ';\r\n          case 1:\r\n            return 'ONCE';\r\n          case 2:\r\n            return 'DOCE';\r\n          case 3:\r\n            return 'TRECE';\r\n          case 4:\r\n            return 'CATORCE';\r\n          case 5:\r\n            return 'QUINCE';\r\n          default:\r\n            return 'DIECI' + Unidades(unidad);\r\n        }\r\n      case 2:\r\n        switch (unidad) {\r\n          case 0:\r\n            return 'VEINTE';\r\n          default:\r\n            return 'VEINTI' + Unidades(unidad);\r\n        }\r\n      case 3:\r\n        return DecenasY('TREINTA', unidad);\r\n      case 4:\r\n        return DecenasY('CUARENTA', unidad);\r\n      case 5:\r\n        return DecenasY('CINCUENTA', unidad);\r\n      case 6:\r\n        return DecenasY('SESENTA', unidad);\r\n      case 7:\r\n        return DecenasY('SETENTA', unidad);\r\n      case 8:\r\n        return DecenasY('OCHENTA', unidad);\r\n      case 9:\r\n        return DecenasY('NOVENTA', unidad);\r\n      case 0:\r\n        return Unidades(unidad);\r\n      default:\r\n        return '';\r\n    }\r\n  } //Unidades()\r\n\r\n  function DecenasY(strSin, numUnidades) {\r\n    if (numUnidades > 0) return strSin + ' Y ' + Unidades(numUnidades);\r\n\r\n    return strSin;\r\n  } //DecenasY()\r\n\r\n  function Centenas(num) {\r\n    centenas = Math.floor(num / 100);\r\n    decenas = num - centenas * 100;\r\n\r\n    switch (centenas) {\r\n      case 1:\r\n        if (decenas > 0) return 'CIENTO ' + Decenas(decenas);\r\n        return 'CIEN';\r\n      case 2:\r\n        return 'DOSCIENTOS ' + Decenas(decenas);\r\n      case 3:\r\n        return 'TRESCIENTOS ' + Decenas(decenas);\r\n      case 4:\r\n        return 'CUATROCIENTOS ' + Decenas(decenas);\r\n      case 5:\r\n        return 'QUINIENTOS ' + Decenas(decenas);\r\n      case 6:\r\n        return 'SEISCIENTOS ' + Decenas(decenas);\r\n      case 7:\r\n        return 'SETECIENTOS ' + Decenas(decenas);\r\n      case 8:\r\n        return 'OCHOCIENTOS ' + Decenas(decenas);\r\n      case 9:\r\n        return 'NOVECIENTOS ' + Decenas(decenas);\r\n    }\r\n\r\n    return Decenas(decenas);\r\n  } //Centenas()\r\n\r\n  function Seccion(num, divisor, strSingular, strPlural) {\r\n    cientos = Math.floor(num / divisor);\r\n    resto = num - cientos * divisor;\r\n\r\n    letras = '';\r\n\r\n    if (cientos > 0)\r\n      if (cientos > 1) letras = Centenas(cientos) + ' ' + strPlural;\r\n      else letras = strSingular;\r\n\r\n    if (resto > 0) letras += '';\r\n\r\n    return letras;\r\n  } //Seccion()\r\n\r\n  function Miles(num) {\r\n    divisor = 1000;\r\n    cientos = Math.floor(num / divisor);\r\n    resto = num - cientos * divisor;\r\n\r\n    strMiles = Seccion(num, divisor, 'MIL', 'MIL');\r\n    strCentenas = Centenas(resto);\r\n\r\n    if (strMiles === '') return strCentenas;\r\n\r\n    return strMiles + ' ' + strCentenas;\r\n\r\n    //return Seccion(num, divisor, \"UN MIL\", \"MIL\") + \" \" + Centenas(resto);\r\n  } //Miles()\r\n\r\n  function Millones(num) {\r\n    divisor = 1000000;\r\n    cientos = Math.floor(num / divisor);\r\n    resto = num - cientos * divisor;\r\n\r\n    strMillones = Seccion(num, divisor, 'UN MILLON', 'MILLONES');\r\n    strMiles = Miles(resto);\r\n\r\n    if (strMillones === '') return strMiles;\r\n\r\n    return strMillones + ' ' + strMiles;\r\n\r\n    //return Seccion(num, divisor, \"UN MILLON\", \"MILLONES\") + \" \" + Miles(resto);\r\n  } //Millones()\r\n\r\n  function NumeroALetras(num, centavos) {\r\n    var data = {\r\n      numero: num,\r\n      enteros: Math.floor(num),\r\n      centavos: Math.round(num * 100) - Math.floor(num) * 100,\r\n      letrasCentavos: ''\r\n    };\r\n    if (centavos === undefined || centavos === false) {\r\n      data.letrasMonedaPlural = 'PESOS';\r\n      data.letrasMonedaSingular = 'PESO';\r\n    } else {\r\n      data.letrasMonedaPlural = 'CENTAVOS';\r\n      data.letrasMonedaSingular = 'CENTAVO';\r\n    }\r\n\r\n    if (data.centavos > 0)\r\n      data.letrasCentavos = 'CON ' + NumeroALetras(data.centavos, true);\r\n\r\n    if (data.enteros === 0)\r\n      return 'CERO ' + data.letrasMonedaPlural + ' ' + data.letrasCentavos;\r\n    if (data.enteros === 1)\r\n      return (\r\n        Millones(data.enteros) +\r\n        ' ' +\r\n        data.letrasMonedaSingular +\r\n        ' ' +\r\n        data.letrasCentavos\r\n      );\r\n    else\r\n      return (\r\n        Millones(data.enteros) +\r\n        ' ' +\r\n        data.letrasMonedaPlural +\r\n        ' ' +\r\n        data.letrasCentavos\r\n      );\r\n  } //NumeroALetras()\r\n  return (\r\n    <div className=\"Container-ticket\">\r\n      <h3>\r\n        ({NumeroALetras(TOTAL) + sindecimales}\r\n        /100 MXN)\r\n      </h3>\r\n    </div>\r\n  );\r\n};\r\nexport default ConvertidorNumLetras;\r\n","// This icon file is generated automatically.\nvar PrinterFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M732 120c0-4.4-3.6-8-8-8H300c-4.4 0-8 3.6-8 8v148h440V120zm120 212H172c-44.2 0-80 35.8-80 80v328c0 17.7 14.3 32 32 32h168v132c0 4.4 3.6 8 8 8h424c4.4 0 8-3.6 8-8V772h168c17.7 0 32-14.3 32-32V412c0-44.2-35.8-80-80-80zM664 844H360V568h304v276zm164-360c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-40c0-4.4 3.6-8 8-8h40c4.4 0 8 3.6 8 8v40z\" } }] }, \"name\": \"printer\", \"theme\": \"filled\" };\nexport default PrinterFilled;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PrinterFilledSvg from \"@ant-design/icons-svg/es/asn/PrinterFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PrinterFilled = function PrinterFilled(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: PrinterFilledSvg\n  }));\n};\n\nPrinterFilled.displayName = 'PrinterFilled';\nexport default React.forwardRef(PrinterFilled);","import React from 'react';\r\nimport { Button } from 'antd';\r\nimport { PrinterFilled } from '@ant-design/icons';\r\nimport { getRol } from '../../shared/ApiWrapper';\r\nconst PrintTicket = () => {\r\n  return (\r\n    <div className=\"Container-ticket\">\r\n      <hr></hr>\r\n      <span className=\"Space-span\">¡GRACIAS POR SU VISITA!</span>\r\n      <span className=\"Space-span\">ESTE DOCUMENTO NO TIENE VALOR FISCAL</span>\r\n      {getRol() === 'Cocina' ? null : (\r\n        <Button\r\n          style={{\r\n            display: 'flex',\r\n            width: 120,\r\n            height: 50,\r\n            boxShadow: '0px 3px 5px 0px grey',\r\n          }}\r\n          id=\"Button-print\"\r\n          type=\"primary\"\r\n          htmlType=\"button\"\r\n          onClick={window.print}\r\n          icon={<PrinterFilled />}\r\n        >\r\n          Imprimir\r\n        </Button>\r\n      )}\r\n      <br></br>\r\n      <br></br>\r\n    </div>\r\n  );\r\n};\r\nexport default PrintTicket;\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport InfoVariables from '../components/ticket/InfoVariables';\r\nimport TablaProductos from '../components/ticket/TablaProductos';\r\nimport Domicilio from '../components/ticket/Domicilio';\r\nimport ConvertidorNumLetras from '../components/ticket/ConvertidorNumLetras';\r\nimport PrintTicket from '../components/ticket/PrintTicket';\r\nimport ComandasTicket from '../components/ticket/ComandasTicket';\r\nimport { makeRequest } from '../shared/ApiWrapper';\r\n\r\nfunction Ticket(props) {\r\n  const [orden, setOrden] = useState([]);\r\n  const id = props.match.params.id;\r\n  //var domicilioOrden = orden.domicilio;\r\n  //console.log(domicilio ? true : false);\r\n  const recuperarOrdenes = async () => {\r\n    try {\r\n      let response = await makeRequest('GET', `ordenes/${id}`);\r\n      let data = response.data.data;\r\n      //console.log('data', data);\r\n      return data;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const inicializarState = async () => {\r\n    const orden = await recuperarOrdenes();\r\n    setOrden(orden);\r\n  };\r\n  useEffect(() => {\r\n    inicializarState();\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      <InfoVariables info={orden} />\r\n      {orden.domicilio ? <Domicilio domicilio={orden.domicilio} /> : null}\r\n      <TablaProductos comandas={orden} />\r\n      <ConvertidorNumLetras comandas={orden} />\r\n      <PrintTicket />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Ticket;\r\n"],"sourceRoot":""}